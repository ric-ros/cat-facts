"use strict";(self.webpackChunkcat_facts=self.webpackChunkcat_facts||[]).push([[761],{9761:(B,Z,m)=>{m.r(Z),m.d(Z,{AccountModule:()=>k});var o=m(4006),f=m(6895),a=m(2510),e=m(4650),_=m(9876);let q=(()=>{class r{constructor(n,t){this.router=n,this.accountService=t,this.accountService.userValue&&this.router.navigate(["/"])}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(a.F0),e.Y36(_.B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],decls:2,vars:0,consts:[[1,"col-md-6","offset-md-3","mt-5"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[a.lC],encapsulation:2}),r})();var b=m(590),T=m(5970);function A(r,i){1&r&&(e.TgZ(0,"div",16),e._uU(1," \u{1f6d1} The email is required "),e.qZA())}function U(r,i){1&r&&(e.TgZ(0,"div",16),e._uU(1," \u{1f6d1} The email is invalid "),e.qZA())}function D(r,i){1&r&&(e.TgZ(0,"div",16),e._uU(1," \u{1f6d1} The password is required "),e.qZA())}function N(r,i){1&r&&e._UZ(0,"span",17)}function J(r,i){1&r&&(e.TgZ(0,"div",19),e._uU(1," \u{1f6d1} The first name is required "),e.qZA())}function S(r,i){1&r&&(e.TgZ(0,"div",19),e._uU(1," \u{1f6d1} The last name is required "),e.qZA())}function I(r,i){1&r&&(e.TgZ(0,"div",19),e._uU(1," \u{1f6d1} The email is required "),e.qZA())}function Y(r,i){1&r&&(e.TgZ(0,"div",19),e._uU(1," \u{1f6d1} The email is invalid "),e.qZA())}function L(r,i){1&r&&(e.TgZ(0,"div",19),e._uU(1," \u{1f6d1} The last name is required "),e.qZA())}function w(r,i){1&r&&e._UZ(0,"span",20)}const g=function(r){return{"is-invalid":r}},Q=[{path:"",component:q,children:[{path:"login",component:(()=>{class r{constructor(n,t,l,s,u){this.formBuilder=n,this.route=t,this.router=l,this.accountService=s,this.alertService=u,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({username:["",[o.kI.required,o.kI.email]],password:["",o.kI.required]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.login(this.form.get("username").value,this.form.get("password").value).pipe((0,b.P)()).subscribe({next:()=>{this.router.navigateByUrl(this.route.snapshot.queryParams.returnUrl||"/")},error:n=>{this.alertService.error(n),this.loading=!1}}))}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(o.qu),e.Y36(a.gz),e.Y36(a.F0),e.Y36(_.B),e.Y36(T.c))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],decls:24,vars:8,consts:[[1,"card"],[1,"card-header","mb-0"],[1,"card-body"],[1,"text-success","text-center"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-2"],["id","username","type","email","placeholder","email","formControlName","username",1,"form-control",3,"ngClass"],["for","username"],["class","invalid-feedback",4,"ngIf"],[1,"form-floating"],["id","password","placeholder","password","type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","password"],[1,"form-group"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../register",1,"btn","btn-link"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Login"),e.qZA(),e.TgZ(3,"div",2)(4,"h3",3),e._uU(5,"Everyoune is admin! \u{1f389}"),e.qZA(),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.TgZ(9,"label",7),e._uU(10,"Email"),e.qZA(),e.YNc(11,A,2,0,"div",8),e.YNc(12,U,2,0,"div",8),e.qZA(),e.TgZ(13,"div",9),e._UZ(14,"input",10),e.TgZ(15,"label",11),e._uU(16,"Password"),e.qZA(),e.YNc(17,D,2,0,"div",8),e.qZA(),e.TgZ(18,"div",12)(19,"button",13),e.YNc(20,N,1,0,"span",14),e._uU(21," Login "),e.qZA(),e.TgZ(22,"a",15),e._uU(23,"Register"),e.qZA()()()()()),2&n){let l,s,u,d,p;e.xp6(6),e.Q6J("formGroup",t.form),e.xp6(2),e.Q6J("ngClass",t.submitted&&null!=(l=t.form.get("username"))&&l.errors?"is-invalid":""),e.xp6(3),e.Q6J("ngIf",t.submitted&&(null==(s=t.form.get("username"))?null:s.errors)&&(null==(s=t.form.get("username"))?null:s.errors).required),e.xp6(1),e.Q6J("ngIf",t.submitted&&(null==(u=t.form.get("username"))?null:u.errors)&&(null==(u=t.form.get("username"))?null:u.errors).email),e.xp6(2),e.Q6J("ngClass",t.submitted&&null!=(d=t.form.get("password"))&&d.errors?"is-invalid":""),e.xp6(3),e.Q6J("ngIf",t.submitted&&(null==(p=t.form.get("password"))?null:p.errors)&&(null==(p=t.form.get("password"))?null:p.errors).required),e.xp6(2),e.Q6J("disabled",t.loading),e.xp6(1),e.Q6J("ngIf",t.loading)}},dependencies:[f.mk,f.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,a.yS],encapsulation:2}),r})()},{path:"register",component:(()=>{class r{constructor(n,t,l,s,u){this.formBuilder=n,this.route=t,this.router=l,this.accountService=s,this.alertService=u,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({firstName:["",o.kI.required],lastName:["",o.kI.required],username:["",o.kI.required],password:["",[o.kI.required,o.kI.minLength(6)]]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.register(this.form.value).pipe((0,b.P)()).subscribe({next:()=>{this.alertService.success("Registration successful",{keepAfterRouteChange:!0}),this.router.navigate(["../login"],{relativeTo:this.route})},error:n=>{this.alertService.error(n),this.loading=!1}}))}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(o.qu),e.Y36(a.gz),e.Y36(a.F0),e.Y36(_.B),e.Y36(T.c))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ng-component"]],decls:34,vars:20,consts:[[1,"card"],[1,"card-header","mb-0"],[1,"card-body"],[1,"text-muted","text-center"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["placeholder","name","id","firstName","type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["for","firstName"],["class","invalid-feedback",4,"ngIf"],["placeholder","name","id","lastName","type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["for","lastName"],["placeholder","name","id","username","type","email","formControlName","username",1,"form-control",3,"ngClass"],["for","username"],["placeholder","name","id","password","type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","password"],[1,"form-floating"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../login",1,"btn","btn-link"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Register"),e.qZA(),e.TgZ(3,"div",2)(4,"h4",3),e._uU(5,"All fields are required *"),e.qZA(),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.TgZ(9,"label",7),e._uU(10,"First Name"),e.qZA(),e.YNc(11,J,2,0,"div",8),e.qZA(),e.TgZ(12,"div",5),e._UZ(13,"input",9),e.TgZ(14,"label",10),e._uU(15,"Last Name"),e.qZA(),e.YNc(16,S,2,0,"div",8),e.qZA(),e.TgZ(17,"div",5),e._UZ(18,"input",11),e.TgZ(19,"label",12),e._uU(20,"Email"),e.qZA(),e.YNc(21,I,2,0,"div",8),e.YNc(22,Y,2,0,"div",8),e.qZA(),e.TgZ(23,"div",5),e._UZ(24,"input",13),e.TgZ(25,"label",14),e._uU(26,"Password"),e.qZA(),e.YNc(27,L,2,0,"div",8),e.qZA(),e.TgZ(28,"div",15)(29,"button",16),e.YNc(30,w,1,0,"span",17),e._uU(31," Register "),e.qZA(),e.TgZ(32,"a",18),e._uU(33,"Login"),e.qZA()()()()()),2&n){let l,s,u,d,p,c,v,C,h;e.xp6(6),e.Q6J("formGroup",t.form),e.xp6(2),e.Q6J("ngClass",e.VKq(12,g,t.submitted&&(null==(l=t.form.get("firstName"))?null:l.errors))),e.xp6(3),e.Q6J("ngIf",t.submitted&&(null==(s=t.form.get("firstName"))?null:s.errors)&&(null==(s=t.form.get("firstName"))?null:s.errors).required),e.xp6(2),e.Q6J("ngClass",e.VKq(14,g,t.submitted&&(null==(u=t.form.get("lastName"))?null:u.errors))),e.xp6(3),e.Q6J("ngIf",t.submitted&&(null==(d=t.form.get("lastName"))?null:d.errors)&&(null==(d=t.form.get("lastName"))?null:d.errors).required),e.xp6(2),e.Q6J("ngClass",e.VKq(16,g,t.submitted&&(null==(p=t.form.get("username"))?null:p.errors))),e.xp6(3),e.Q6J("ngIf",t.submitted&&(null==(c=t.form.get("username"))?null:c.errors)&&(null==(c=t.form.get("username"))?null:c.errors).required),e.xp6(1),e.Q6J("ngIf",t.submitted&&(null==(v=t.form.get("username"))?null:v.errors)&&(null==(v=t.form.get("username"))?null:v.errors).email),e.xp6(2),e.Q6J("ngClass",e.VKq(18,g,t.submitted&&(null==(C=t.form.get("password"))?null:C.errors))),e.xp6(3),e.Q6J("ngIf",t.submitted&&(null==(h=t.form.get("password"))?null:h.errors)&&(null==(h=t.form.get("password"))?null:h.errors).required),e.xp6(2),e.Q6J("disabled",t.loading),e.xp6(1),e.Q6J("ngIf",t.loading)}},dependencies:[f.mk,f.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,a.yS],encapsulation:2}),r})()}]}];let R=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[a.Bz.forChild(Q),a.Bz]}),r})(),k=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[f.ez,o.UX,R]}),r})()}}]);