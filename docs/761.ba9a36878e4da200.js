"use strict";(self.webpackChunkcat_facts=self.webpackChunkcat_facts||[]).push([[761],{9761:(M,T,u)=>{u.r(T),u.d(T,{AccountModule:()=>z});var o=u(4006),f=u(6895),m=u(2510),e=u(4650),b=u(9876);let D=(()=>{class t{constructor(n,r){this.router=n,this.accountService=r,this.accountService.userValue&&this.router.navigate(["/"])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.F0),e.Y36(b.B))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:0,consts:[[1,"col-md-6","offset-md-3","mt-5"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[m.lC],encapsulation:2}),t})();var C=u(590),q=u(5970),g=u(4859);function U(t,i){1&t&&(e.TgZ(0,"div",17),e._uU(1," \u{1f6d1} The email is required "),e.qZA())}function N(t,i){1&t&&(e.TgZ(0,"div",17),e._uU(1," \u{1f6d1} The email is invalid "),e.qZA())}function y(t,i){1&t&&(e.TgZ(0,"div",17),e._uU(1," \u{1f6d1} The password is required "),e.qZA())}function J(t,i){1&t&&e._UZ(0,"span",18)}function w(t,i){1&t&&(e.TgZ(0,"div",20),e._uU(1," \u{1f6d1} The first name is required "),e.qZA())}function I(t,i){1&t&&(e.TgZ(0,"div",20),e._uU(1," \u{1f6d1} The last name is required "),e.qZA())}function L(t,i){1&t&&(e.TgZ(0,"div",20),e._uU(1," \u{1f6d1} The email is required "),e.qZA())}function Y(t,i){1&t&&(e.TgZ(0,"div",20),e._uU(1," \u{1f6d1} The email is invalid "),e.qZA())}function Q(t,i){1&t&&(e.TgZ(0,"div",20),e._uU(1," \u{1f6d1} The password is required "),e.qZA())}function R(t,i){if(1&t&&(e.TgZ(0,"div",20),e._uU(1),e._UZ(2,"br"),e._uU(3),e.qZA()),2&t){const n=e.oxw();let r,s;e.xp6(1),e.AsE(" \u{1f6d1} ",(null==(r=n.form.get("password"))?null:r.errors).minlength.actualLength," character",1===(null==(r=n.form.get("password"))?null:r.errors).minlength.actualLength?" is":"s are"," not enough! "),e.xp6(2),e.hij(" The password should be ",(null==(s=n.form.get("password"))?null:s.errors).minlength.requiredLength," characters long! ")}}function E(t,i){1&t&&e._UZ(0,"span",21)}const c=function(t){return{"is-invalid":t}},k=[{path:"",component:D,children:[{path:"login",component:(()=>{class t{constructor(n,r,s,l,a){this.formBuilder=n,this.route=r,this.router=s,this.accountService=l,this.alertService=a,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({username:["",[o.kI.required,o.kI.email]],password:["",o.kI.required]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.login(this.form.get("username").value,this.form.get("password").value).pipe((0,C.P)()).subscribe({next:()=>{this.router.navigateByUrl(this.route.snapshot.queryParams.returnUrl||"/")},error:n=>{this.alertService.error(n),this.loading=!1}}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(o.qu),e.Y36(m.gz),e.Y36(m.F0),e.Y36(b.B),e.Y36(q.c))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:25,vars:8,consts:[[1,"card"],[1,"card-header","mb-0"],[1,"card-body"],[1,"text-success","text-center"],["id","form",3,"formGroup","ngSubmit"],[1,"form-floating","mb-2"],["id","username","type","email","placeholder","email","formControlName","username",1,"form-control",3,"ngClass"],["for","username"],["class","invalid-feedback",4,"ngIf"],[1,"form-floating"],["id","password","placeholder","password","type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","password"],[1,"card-footer"],[1,"form-group"],["form","form","mat-raised-button","","color","primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["mat-button","","color","primary","routerLink","../register",1,"btn","btn-link"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Login"),e.qZA(),e.TgZ(3,"div",2)(4,"h3",3),e._uU(5,"Everyone is admin! \u{1f389}"),e.qZA(),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.TgZ(9,"label",7),e._uU(10,"Email"),e.qZA(),e.YNc(11,U,2,0,"div",8),e.YNc(12,N,2,0,"div",8),e.qZA(),e.TgZ(13,"div",9),e._UZ(14,"input",10),e.TgZ(15,"label",11),e._uU(16,"Password"),e.qZA(),e.YNc(17,y,2,0,"div",8),e.qZA()()(),e.TgZ(18,"div",12)(19,"div",13)(20,"button",14),e.YNc(21,J,1,0,"span",15),e._uU(22," Login "),e.qZA(),e.TgZ(23,"a",16),e._uU(24,"Register"),e.qZA()()()()),2&n){let s,l,a,d,p;e.xp6(6),e.Q6J("formGroup",r.form),e.xp6(2),e.Q6J("ngClass",r.submitted&&null!=(s=r.form.get("username"))&&s.errors?"is-invalid":""),e.xp6(3),e.Q6J("ngIf",r.submitted&&(null==(l=r.form.get("username"))?null:l.errors)&&(null==(l=r.form.get("username"))?null:l.errors).required),e.xp6(1),e.Q6J("ngIf",r.submitted&&(null==(a=r.form.get("username"))?null:a.errors)&&(null==(a=r.form.get("username"))?null:a.errors).email),e.xp6(2),e.Q6J("ngClass",r.submitted&&null!=(d=r.form.get("password"))&&d.errors?"is-invalid":""),e.xp6(3),e.Q6J("ngIf",r.submitted&&(null==(p=r.form.get("password"))?null:p.errors)&&(null==(p=r.form.get("password"))?null:p.errors).required),e.xp6(3),e.Q6J("disabled",r.loading),e.xp6(1),e.Q6J("ngIf",r.loading)}},dependencies:[f.mk,f.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,m.yS,g.lW,g.zs],encapsulation:2}),t})()},{path:"register",component:(()=>{class t{constructor(n,r,s,l,a){this.formBuilder=n,this.route=r,this.router=s,this.accountService=l,this.alertService=a,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({firstName:["",o.kI.required],lastName:["",o.kI.required],username:["",o.kI.required],password:["",[o.kI.required,o.kI.minLength(6)]]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.register(this.form.value).pipe((0,C.P)()).subscribe({next:()=>{this.alertService.success("Registration successful",{keepAfterRouteChange:!0}),this.router.navigate(["../login"],{relativeTo:this.route})},error:n=>{this.alertService.error(n),this.loading=!1}}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(o.qu),e.Y36(m.gz),e.Y36(m.F0),e.Y36(b.B),e.Y36(q.c))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:36,vars:21,consts:[[1,"card"],[1,"card-header","mb-0"],[1,"card-body"],[1,"text-muted","text-center"],["id","form",3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["placeholder","name","id","firstName","type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["for","firstName"],["class","invalid-feedback",4,"ngIf"],["placeholder","name","id","lastName","type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["for","lastName"],["placeholder","name","id","username","type","email","formControlName","username",1,"form-control",3,"ngClass"],["for","username"],[1,"form-floating"],["placeholder","name","id","password","type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","password"],[1,"card-footer"],["mat-raised-button","","color","primary","form","form",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["mat-button","","color","primary","routerLink","../login"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Register"),e.qZA(),e.TgZ(3,"div",2)(4,"h4",3),e._uU(5,"All fields are required *"),e.qZA(),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.TgZ(9,"label",7),e._uU(10,"First Name"),e.qZA(),e.YNc(11,w,2,0,"div",8),e.qZA(),e.TgZ(12,"div",5),e._UZ(13,"input",9),e.TgZ(14,"label",10),e._uU(15,"Last Name"),e.qZA(),e.YNc(16,I,2,0,"div",8),e.qZA(),e.TgZ(17,"div",5),e._UZ(18,"input",11),e.TgZ(19,"label",12),e._uU(20,"Email"),e.qZA(),e.YNc(21,L,2,0,"div",8),e.YNc(22,Y,2,0,"div",8),e.qZA(),e.TgZ(23,"div",13),e._UZ(24,"input",14),e.TgZ(25,"label",15),e._uU(26,"Password"),e.qZA(),e.YNc(27,Q,2,0,"div",8),e.YNc(28,R,4,3,"div",8),e.qZA()()(),e.TgZ(29,"div",16)(30,"div",13)(31,"button",17),e.YNc(32,E,1,0,"span",18),e._uU(33," Register "),e.qZA(),e.TgZ(34,"a",19),e._uU(35,"Login"),e.qZA()()()()),2&n){let s,l,a,d,p,h,v,A,_,Z;e.xp6(6),e.Q6J("formGroup",r.form),e.xp6(2),e.Q6J("ngClass",e.VKq(13,c,r.submitted&&(null==(s=r.form.get("firstName"))?null:s.errors))),e.xp6(3),e.Q6J("ngIf",r.submitted&&(null==(l=r.form.get("firstName"))?null:l.errors)&&(null==(l=r.form.get("firstName"))?null:l.errors).required),e.xp6(2),e.Q6J("ngClass",e.VKq(15,c,r.submitted&&(null==(a=r.form.get("lastName"))?null:a.errors))),e.xp6(3),e.Q6J("ngIf",r.submitted&&(null==(d=r.form.get("lastName"))?null:d.errors)&&(null==(d=r.form.get("lastName"))?null:d.errors).required),e.xp6(2),e.Q6J("ngClass",e.VKq(17,c,r.submitted&&(null==(p=r.form.get("username"))?null:p.errors))),e.xp6(3),e.Q6J("ngIf",r.submitted&&(null==(h=r.form.get("username"))?null:h.errors)&&(null==(h=r.form.get("username"))?null:h.errors).required),e.xp6(1),e.Q6J("ngIf",r.submitted&&(null==(v=r.form.get("username"))?null:v.errors)&&(null==(v=r.form.get("username"))?null:v.errors).email),e.xp6(2),e.Q6J("ngClass",e.VKq(19,c,r.submitted&&(null==(A=r.form.get("password"))?null:A.errors))),e.xp6(3),e.Q6J("ngIf",r.submitted&&(null==(_=r.form.get("password"))?null:_.errors)&&(null==(_=r.form.get("password"))?null:_.errors).required),e.xp6(1),e.Q6J("ngIf",r.submitted&&(null==(Z=r.form.get("password"))?null:Z.errors)&&(null==(Z=r.form.get("password"))?null:Z.errors).minlength),e.xp6(3),e.Q6J("disabled",r.loading),e.xp6(1),e.Q6J("ngIf",r.loading)}},dependencies:[f.mk,f.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,m.yS,g.lW,g.zs],encapsulation:2}),t})()}]}];let B=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(k),m.Bz]}),t})();var F=u(1406);let z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.ez,o.UX,B,F.q]}),t})()}}]);