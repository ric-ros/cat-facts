"use strict";(self.webpackChunkcat_facts=self.webpackChunkcat_facts||[]).push([[761],{9761:(F,b,m)=>{m.r(b),m.d(b,{AccountModule:()=>B});var o=m(4006),g=m(6895),a=m(2510),e=m(4650),Z=m(9876);let A=(()=>{class t{constructor(n,r){this.router=n,this.accountService=r,this.accountService.userValue&&this.router.navigate(["/"])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(a.F0),e.Y36(Z.B))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:2,vars:0,consts:[[1,"col-md-6","offset-md-3","mt-5"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[a.lC],encapsulation:2}),t})();var T=m(590),C=m(5970);function D(t,s){1&t&&(e.TgZ(0,"div",16),e._uU(1," \u{1f6d1} The email is required "),e.qZA())}function U(t,s){1&t&&(e.TgZ(0,"div",16),e._uU(1," \u{1f6d1} The email is invalid "),e.qZA())}function N(t,s){1&t&&(e.TgZ(0,"div",16),e._uU(1," \u{1f6d1} The password is required "),e.qZA())}function y(t,s){1&t&&e._UZ(0,"span",17)}function w(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," \u{1f6d1} The first name is required "),e.qZA())}function S(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," \u{1f6d1} The last name is required "),e.qZA())}function I(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," \u{1f6d1} The email is required "),e.qZA())}function L(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," \u{1f6d1} The email is invalid "),e.qZA())}function Y(t,s){1&t&&(e.TgZ(0,"div",19),e._uU(1," \u{1f6d1} The password is required "),e.qZA())}function Q(t,s){if(1&t&&(e.TgZ(0,"div",19),e._uU(1),e._UZ(2,"br"),e._uU(3),e.qZA()),2&t){const n=e.oxw();let r,i;e.xp6(1),e.AsE(" \u{1f6d1} ",(null==(r=n.form.get("password"))?null:r.errors).minlength.actualLength," character",1===(null==(r=n.form.get("password"))?null:r.errors).minlength.actualLength?" is":"s are"," not enough! "),e.xp6(2),e.hij(" The password should be ",(null==(i=n.form.get("password"))?null:i.errors).minlength.requiredLength," characters long! ")}}function R(t,s){1&t&&e._UZ(0,"span",20)}const f=function(t){return{"is-invalid":t}},k=[{path:"",component:A,children:[{path:"login",component:(()=>{class t{constructor(n,r,i,l,u){this.formBuilder=n,this.route=r,this.router=i,this.accountService=l,this.alertService=u,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({username:["",[o.kI.required,o.kI.email]],password:["",o.kI.required]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.login(this.form.get("username").value,this.form.get("password").value).pipe((0,T.P)()).subscribe({next:()=>{this.router.navigateByUrl(this.route.snapshot.queryParams.returnUrl||"/")},error:n=>{this.alertService.error(n),this.loading=!1}}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(o.qu),e.Y36(a.gz),e.Y36(a.F0),e.Y36(Z.B),e.Y36(C.c))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:24,vars:8,consts:[[1,"card"],[1,"card-header","mb-0"],[1,"card-body"],[1,"text-success","text-center"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-2"],["id","username","type","email","placeholder","email","formControlName","username",1,"form-control",3,"ngClass"],["for","username"],["class","invalid-feedback",4,"ngIf"],[1,"form-floating"],["id","password","placeholder","password","type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","password"],[1,"form-group"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../register",1,"btn","btn-link"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Login"),e.qZA(),e.TgZ(3,"div",2)(4,"h3",3),e._uU(5,"Everyone is admin! \u{1f389}"),e.qZA(),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.TgZ(9,"label",7),e._uU(10,"Email"),e.qZA(),e.YNc(11,D,2,0,"div",8),e.YNc(12,U,2,0,"div",8),e.qZA(),e.TgZ(13,"div",9),e._UZ(14,"input",10),e.TgZ(15,"label",11),e._uU(16,"Password"),e.qZA(),e.YNc(17,N,2,0,"div",8),e.qZA(),e.TgZ(18,"div",12)(19,"button",13),e.YNc(20,y,1,0,"span",14),e._uU(21," Login "),e.qZA(),e.TgZ(22,"a",15),e._uU(23,"Register"),e.qZA()()()()()),2&n){let i,l,u,d,p;e.xp6(6),e.Q6J("formGroup",r.form),e.xp6(2),e.Q6J("ngClass",r.submitted&&null!=(i=r.form.get("username"))&&i.errors?"is-invalid":""),e.xp6(3),e.Q6J("ngIf",r.submitted&&(null==(l=r.form.get("username"))?null:l.errors)&&(null==(l=r.form.get("username"))?null:l.errors).required),e.xp6(1),e.Q6J("ngIf",r.submitted&&(null==(u=r.form.get("username"))?null:u.errors)&&(null==(u=r.form.get("username"))?null:u.errors).email),e.xp6(2),e.Q6J("ngClass",r.submitted&&null!=(d=r.form.get("password"))&&d.errors?"is-invalid":""),e.xp6(3),e.Q6J("ngIf",r.submitted&&(null==(p=r.form.get("password"))?null:p.errors)&&(null==(p=r.form.get("password"))?null:p.errors).required),e.xp6(2),e.Q6J("disabled",r.loading),e.xp6(1),e.Q6J("ngIf",r.loading)}},dependencies:[g.mk,g.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,a.yS],encapsulation:2}),t})()},{path:"register",component:(()=>{class t{constructor(n,r,i,l,u){this.formBuilder=n,this.route=r,this.router=i,this.accountService=l,this.alertService=u,this.loading=!1,this.submitted=!1}ngOnInit(){this.form=this.formBuilder.group({firstName:["",o.kI.required],lastName:["",o.kI.required],username:["",o.kI.required],password:["",[o.kI.required,o.kI.minLength(6)]]})}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.loading=!0,this.accountService.register(this.form.value).pipe((0,T.P)()).subscribe({next:()=>{this.alertService.success("Registration successful",{keepAfterRouteChange:!0}),this.router.navigate(["../login"],{relativeTo:this.route})},error:n=>{this.alertService.error(n),this.loading=!1}}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(o.qu),e.Y36(a.gz),e.Y36(a.F0),e.Y36(Z.B),e.Y36(C.c))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:35,vars:21,consts:[[1,"card"],[1,"card-header","mb-0"],[1,"card-body"],[1,"text-muted","text-center"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["placeholder","name","id","firstName","type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["for","firstName"],["class","invalid-feedback",4,"ngIf"],["placeholder","name","id","lastName","type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["for","lastName"],["placeholder","name","id","username","type","email","formControlName","username",1,"form-control",3,"ngClass"],["for","username"],["placeholder","name","id","password","type","password","formControlName","password",1,"form-control",3,"ngClass"],["for","password"],[1,"form-floating"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../login",1,"btn","btn-link"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Register"),e.qZA(),e.TgZ(3,"div",2)(4,"h4",3),e._uU(5,"All fields are required *"),e.qZA(),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.TgZ(9,"label",7),e._uU(10,"First Name"),e.qZA(),e.YNc(11,w,2,0,"div",8),e.qZA(),e.TgZ(12,"div",5),e._UZ(13,"input",9),e.TgZ(14,"label",10),e._uU(15,"Last Name"),e.qZA(),e.YNc(16,S,2,0,"div",8),e.qZA(),e.TgZ(17,"div",5),e._UZ(18,"input",11),e.TgZ(19,"label",12),e._uU(20,"Email"),e.qZA(),e.YNc(21,I,2,0,"div",8),e.YNc(22,L,2,0,"div",8),e.qZA(),e.TgZ(23,"div",5),e._UZ(24,"input",13),e.TgZ(25,"label",14),e._uU(26,"Password"),e.qZA(),e.YNc(27,Y,2,0,"div",8),e.YNc(28,Q,4,3,"div",8),e.qZA(),e.TgZ(29,"div",15)(30,"button",16),e.YNc(31,R,1,0,"span",17),e._uU(32," Register "),e.qZA(),e.TgZ(33,"a",18),e._uU(34,"Login"),e.qZA()()()()()),2&n){let i,l,u,d,p,c,h,q,_,v;e.xp6(6),e.Q6J("formGroup",r.form),e.xp6(2),e.Q6J("ngClass",e.VKq(13,f,r.submitted&&(null==(i=r.form.get("firstName"))?null:i.errors))),e.xp6(3),e.Q6J("ngIf",r.submitted&&(null==(l=r.form.get("firstName"))?null:l.errors)&&(null==(l=r.form.get("firstName"))?null:l.errors).required),e.xp6(2),e.Q6J("ngClass",e.VKq(15,f,r.submitted&&(null==(u=r.form.get("lastName"))?null:u.errors))),e.xp6(3),e.Q6J("ngIf",r.submitted&&(null==(d=r.form.get("lastName"))?null:d.errors)&&(null==(d=r.form.get("lastName"))?null:d.errors).required),e.xp6(2),e.Q6J("ngClass",e.VKq(17,f,r.submitted&&(null==(p=r.form.get("username"))?null:p.errors))),e.xp6(3),e.Q6J("ngIf",r.submitted&&(null==(c=r.form.get("username"))?null:c.errors)&&(null==(c=r.form.get("username"))?null:c.errors).required),e.xp6(1),e.Q6J("ngIf",r.submitted&&(null==(h=r.form.get("username"))?null:h.errors)&&(null==(h=r.form.get("username"))?null:h.errors).email),e.xp6(2),e.Q6J("ngClass",e.VKq(19,f,r.submitted&&(null==(q=r.form.get("password"))?null:q.errors))),e.xp6(3),e.Q6J("ngIf",r.submitted&&(null==(_=r.form.get("password"))?null:_.errors)&&(null==(_=r.form.get("password"))?null:_.errors).required),e.xp6(1),e.Q6J("ngIf",r.submitted&&(null==(v=r.form.get("password"))?null:v.errors)&&(null==(v=r.form.get("password"))?null:v.errors).minlength),e.xp6(2),e.Q6J("disabled",r.loading),e.xp6(1),e.Q6J("ngIf",r.loading)}},dependencies:[g.mk,g.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,a.yS],encapsulation:2}),t})()}]}];let E=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.Bz.forChild(k),a.Bz]}),t})(),B=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,o.UX,E]}),t})()}}]);